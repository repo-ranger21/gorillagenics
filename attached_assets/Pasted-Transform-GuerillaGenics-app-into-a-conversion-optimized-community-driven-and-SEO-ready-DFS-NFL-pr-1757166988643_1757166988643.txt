Transform GuerillaGenics.app into a conversionâ€‘optimized, communityâ€‘driven, and SEOâ€‘ready DFS/NFL prediction platform. Implement a free trial/teaser funnel, referral system, social proof modules, and endâ€‘toâ€‘end SEO (meta tags, JSONâ€‘LD, sitemap, robots, blog).

---

ğŸ¯ Core goals

1) Conversion funnel
- Free Trial / Teaser Picks:
  - Nonâ€‘subscribed users can view 1â€“2 free picks per week; the rest are gated.
  - Gate applies across /weekly-picks and /top5.
- Modals & banners:
  - â€œFirst Pick Freeâ€ modal on first visit (persist dismissal).
  - â€œUnlock Full Jungle Accessâ€ sticky banner until subscribed.
- Funnel tracking:
  - Track stage: awareness â†’ engagement â†’ conversion.
  - Client: localStorage { gg:funnelStage, gg:firstSeenISO, gg:freePicksViewed }
  - Server: analytics endpoint logs events (view_pick, unlock_click, subscribe_click).
  - Respect Do Not Track.

2) Referral system
- Invite a friend, get a free week:
  - Each user has a unique referral code + link: https://guerillagenics.app/?ref=<code>
  - When a referee signs up and verifies email, grant +7 days access to both.
- Referral dashboard (/dashboard):
  - Shows referral link, invites sent, conversions, active rewards, expiry dates.
- Backend:
  - Generate codes, store redemptions, manage reward issuance/expiry.
  - Idempotent processing and antiâ€‘abuse (rate limits, IP/device heuristics).

3) Social proof
- Testimonials page (/testimonials):
  - Rotating carousel: quote, name, avatar, optional handle.
  - Backed by JSON or CMS; editable without redeploy.
- Discord CTA:
  - Prominent â€œJoin the Jungle Chat ğŸ¦â€ in nav/footer and on testimonials page.
- Twitter feed:
  - Embed @GuerillaGenics timeline in /weekly-picks and /dashboard sidebars with lazy loading.

4) SEO optimization
- Meta + OG/Twitter:
  - Title, description, canonical URL, Open Graph, Twitter Card for all major routes.
- Structured data (JSONâ€‘LD):
  - Organization (siteâ€‘wide).
  - Article (blog posts).
  - SportsEvent (matchups on weekly picks).
- Blog (/blog):
  - Blog index and post pages with SEOâ€‘friendly slugs (/blog/dfsâ€‘valueâ€‘picksâ€‘weekâ€‘1).
  - Markdown or headless CMS support; codeâ€‘highlight optional.
- Sitemap + robots:
  - Autoâ€‘generate sitemap.xml at build; serve robots.txt with correct rules.
- Performance:
  - Preload fonts and key assets; CLS < 0.1; lazy load embeds.

---

ğŸ§­ Navigation & routing

- Update nav to include:
  - Weekly Picks, Top 5 DFS Picks, Dashboard, Blog, Testimonials, Join Discord
- Add â€œCommunityâ€ dropdown for: Testimonials, Discord, Twitter
- Add â€œFirst Pick Freeâ€ CTA on landing/weekly-picks for nonâ€‘subs

Routes:
- /weekly-picks
- /top5
- /dashboard
- /testimonials
- /blog
- /blog/:slug
- /legal/robots.txt (served as static)
- /sitemap.xml (generated)
- Referral capture on any route via ?ref=<code>

---

ğŸ› ï¸ Tech stack

- Frontend: React, TailwindCSS, Framer Motion, React Router
- SEO: react-helmet-async for meta tags; JSONâ€‘LD via <script type="application/ld+json">
- Backend: Node.js, Express; simple inâ€‘memory cache + optional DB (SQLite/Postgres)
- State/data: Zustand or React Query
- Blog: Markdown (MDX ready), filesystem or CMS adapter
- Analytics: event logging endpoint + optional console export initially

---

ğŸ“‚ Folder structure

/src
  /pages
    WeeklyPicks.jsx
    TopFive.jsx
    Dashboard.jsx
    Testimonials.jsx
    BlogIndex.jsx
    BlogPost.jsx
  /components
    FreePickModal.jsx
    UnlockBanner.jsx
    ReferralDashboard.jsx
    TestimonialCarousel.jsx
    DiscordCTA.jsx
    TwitterFeed.jsx
    SEO.jsx
    JsonLd.jsx
  /modules
    funnel/clientFunnel.ts
    referrals/referralClient.ts
    seo/meta.ts
    seo/jsonld.ts
  /utils
    storage.ts
    format.ts
    routes.ts
    preload.ts
  /blog
    dfs-value-picks-week-1.md
    bankroll-basics.md
/server
  index.js
  routes/
    analytics.js
    referrals.js
    sitemap.js
    blog.js
    testimonials.js
  services/
    referralService.js
    analyticsService.js
    blogService.js
    sitemapService.js
    authService.js
  db/
    schema.sql
    seed.sql
/public
  robots.txt
  icons/*
  fonts/*

---

ğŸ”Œ Environment variables

VITE_API_BASE= VITE_API_BASE=https://api.guerillagenics.app
VITE_SUBSTACK_PUBLICATION= https://substack.com/@guerillagenics?r=6fur6h&utm_medium=ios&utm_source=profile
DISCORD_INVITE_URL= https://discord.gg/ZaRJJdQN
TWITTER_HANDLE=GuerillaGenics
REFERRAL_BASE_URL=https://guerillagenics.app
NODE_ENV=production

---

ğŸ§© Frontend specs

1) FreePickModal.jsx
- Trigger: first visit (no gg:firstSeenISO), or when viewing a locked pick.
- Copy: â€œFirst Pick Free â€” taste the jungle before you subscribe.â€
- Actions: â€œClaim Free Pickâ€ (reveals 1 free pick), â€œMaybe Laterâ€
- Persist decisions in localStorage (gg:freePicksViewed count).

2) UnlockBanner.jsx
- Sticky top/bottom banner for nonâ€‘subs.
- Copy: â€œUnlock Full Jungle Access â€” weekly picks, Top 5 DFS, and Juice Watch.â€
- CTA: â€œSubscribe on Substackâ€ (VITE_SUBSTACK_PUBLICATION)

3) WeeklyPicks.jsx + TopFive.jsx
- Check subscription state (mocked or from backend).
- If nonâ€‘sub: render up to 2 unlocked picks; rest as blurred cards with lock overlay.
- Render TwitterFeed in sidebar (lazy load iframe).
- Add DiscordCTA block with invite URL (DISCORD_INVITE_URL).

4) ReferralDashboard.jsx (on /dashboard)
- Show referral link: `${REFERRAL_BASE_URL}?ref=${user.refCode}`
- Metrics: invites sent, signups, active rewards (days left).
- â€œCopy Linkâ€ button with tooltip.
- Explain rules briefly; link to T&C.

5) Testimonials.jsx + TestimonialCarousel.jsx
- Fetch testimonials from /api/testimonials (editable JSON).
- Carousel with autoâ€‘advance; pause on hover; accessible controls.

6) SEO.jsx (react-helmet-async)
- Props: { title, description, canonical, image, noIndex? }
- Inject OG and Twitter tags.
- Preload critical fonts/assets via <link rel="preload"> on layout.

7) JsonLd.jsx
- Renders structured data script tags.
- Supported types:
  - Organization (siteâ€‘wide)
  - Article (BlogPost)
  - SportsEvent (on game cards where data exists)

8) Blog pages
- BlogIndex reads list from /api/blog or filesystem.
- BlogPost loads markdown by slug â†’ render with title, date, author, tags, SEO, JSONâ€‘LD.

---

ğŸ—„ï¸ Backend specs

Database (schema.sql)
- users(id pk, email unique, created_at, ref_code unique)
- referrals(id pk, ref_code, referrer_user_id, referee_user_id, status enum('clicked','joined','verified','rewarded'), created_at)
- rewards(id pk, user_id, days_granted, expires_at, source enum('referral','promo'))
- testimonials(id pk, name, quote, avatar_url, created_at, active boolean)
- blog_posts(id pk, slug unique, title, excerpt, body_md, cover_image, published_at, author)

Routes
- POST /api/analytics/event â†’ { eventType, meta } (store minimal logs)
- GET  /api/referrals/code â†’ { refCode } (create for authenticated or temp user)
- POST /api/referrals/click â†’ { refCode } (log click)
- POST /api/referrals/convert â†’ { refCode, email } (create/join user, mark joined)
- POST /api/referrals/verify â†’ { userId } (mark verified, issue rewards to referrer/referee)
- GET  /api/referrals/stats â†’ { invites, signups, rewardsActive, daysRemaining }
- GET  /api/testimonials â†’ [ { name, quote, avatar_url } ]
- GET  /api/blog â†’ [ { slug, title, excerpt, published_at, author } ]
- GET  /api/blog/:slug â†’ { slug, title, excerpt, body_md, cover_image, published_at, author }
- GET  /sitemap.xml â†’ XML from sitemapService (include core routes + blog slugs)
- GET  /robots.txt â†’ static from /public

Services
- referralService: generate codes, validate, award rewards, prevent abuse
- analyticsService: appendâ€‘only logs with IP/user agent hash
- blogService: fileâ€‘backed markdown or DB; sanitize HTML
- sitemapService: generate sitemap with daily changefreq for dynamic content

Security
- Rate limit analytics/referral endpoints.
- Sanitize blog markdown.
- Validate referral code format (e.g., base36 length 8).
- Signed cookies for lightweight auth or integrate your existing auth.

---

ğŸ§  Copy blocks (brandâ€‘aligned)

First Pick Free modal:
- Title: â€œYour first pickâ€™s on the house.â€
- Body: â€œTaste the Max Juice before you swing from the vines. One free pick, then go primal.â€
- CTA: â€œClaim Free Pickâ€ | Secondary: â€œMaybe Laterâ€

Unlock banner:
- â€œUnlock Full Jungle Access â€” Weekly Picks, Top 5 DFS, and Juice Watch. $10/month on Substack.â€

Discord CTA:
- â€œJoin the Jungle Chat ğŸ¦ â€” live slate talk, sweat parties, and banana memes.â€

Testimonial example:
- â€œThe BioBoost edge paid my pizza tab three Sundays in a row.â€ â€” Alex R.

---

ğŸ“¦ Sample utilities (pseudoâ€‘code)

clientFunnel.ts
- getStage(): Awareness|Engagement|Conversion (from localStorage)
- track(event, meta): POST /api/analytics/event
- grantFreePick(): increment gg:freePicksViewed (max 2/week)
- isLocked(index): return !subscribed && index >= freePicksLimit

referralClient.ts
- getOrCreateRefCode(): fetch /api/referrals/code
- captureRefFromURL(): if ?ref, POST /api/referrals/click
- onSignup(email): POST /api/referrals/convert
- onVerify(userId): POST /api/referrals/verify

seo/meta.ts
- buildMeta(route, params): returns title/description/canonical/image

seo/jsonld.ts
- org(), article(post), sportsEvent(game)

---

ğŸ”Œ Embeds & performance

- TwitterFeed: lazy load after main content; reduce CLS by reserving height.
- Preload fonts:
  - <link rel="preload" as="font" href="/fonts/brand.woff2" type="font/woff2" crossorigin>
- Preload mascot/icon assets where used above the fold.
- Lighthouse targets: Performance â‰¥ 85, CLS < 0.1, SEO â‰¥ 95.

---

ğŸ§ª Acceptance criteria

- Conversion funnel:
  - Nonâ€‘subs see 1â€“2 free picks; remainder locked with modal/banner prompts.
  - Funnel events tracked (view, click, subscribe).
- Referrals:
  - Unique referral links issued; clicks tracked; verifications grant +7 days to both parties.
  - Dashboard shows live stats and copyable link.
- Social proof:
  - Testimonials page live with carousel; Discord CTA visible in nav/footer; Twitter feed embedded on /weekly-picks and /dashboard.
- SEO:
  - Perâ€‘route meta tags via reactâ€‘helmetâ€‘async.
  - JSONâ€‘LD present for Organization, Blog posts, SportsEvent on matchups.
  - Blog index/posts live at SEOâ€‘friendly slugs.
  - sitemap.xml and robots.txt served correctly.
- Performance:
  - Fonts/assets preloaded; embeds lazy; CLS < 0.1.
- Branding:
  - Copy matches jungle tone; components follow palette (#0B3D2E, #FFD447, #C53030, #16A34A).

Deliver a complete, runnable enhancement that implements the conversion funnel, referrals, social proof, and SEO suite, fully branded for GuerillaGenics.